<div id="glowscript" class="glowscript">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" href="https://www.glowscript.org/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
<link type="text/css" href="https://www.glowscript.org/css/ide.css" rel="stylesheet" />
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/glow.3.2.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/RSrun.3.2.min.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--

// START JAVASCRIPT

var OMEGA = 1;
var MASS = 4.5;
var RADIUS = 25;
var TRACKER_AMOUNT = 24;
var STEP = 2["*"](pi)["/"](TRACKER_AMOUNT);

window.addEventListener("message", function(e) {
    if (e.data.omega !== undefined) {
        OMEGA = e.data.omega;
    }
    if (e.data.mass !== undefined) {
        MASS = e.data.mass;
    }
    if (e.data.radius !== undefined) {
        RADIUS = e.data.radius;
    }
    if (e.data.trackerAmount !== undefined) {
        TRACKER_AMOUNT = e.data.trackerAmount;
        STEP = 2["*"](pi)["/"](e.data.trackerAmount);
    }
});



;(function() {;
var ρσ_modules = {};
var lastFz;
ρσ_modules.pythonize = {};

(function(){
    function strings() {
        var string_funcs, exclude, name;
        string_funcs = set("capitalize strip lstrip rstrip islower isupper isspace lower upper swapcase center count endswith startswith find rfind index rindex format join ljust rjust partition rpartition replace split rsplit splitlines zfill".split(" "));
        if (!arguments.length) {
            exclude = (function(){
                var s = ρσ_set();
                s.jsset.add("split");
                s.jsset.add("replace");
                return s;
            })();
        } else if (arguments[0]) {
            exclude = Array.prototype.slice.call(arguments);
        } else {
            exclude = null;
        }
        if (exclude) {
            string_funcs = string_funcs.difference(set(exclude));
        }
        var ρσ_Iter0 = string_funcs;
        ρσ_Iter0 = ((typeof ρσ_Iter0[Symbol.iterator] === "function") ? (ρσ_Iter0 instanceof Map ? ρσ_Iter0.keys() : ρσ_Iter0) : Object.keys(ρσ_Iter0));
        for (var ρσ_Index0 of ρσ_Iter0) {
            name = ρσ_Index0;
            (ρσ_expr_temp = String.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name] = (ρσ_expr_temp = ρσ_str.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name];
        }
    };
    if (!strings.__module__) Object.defineProperties(strings, {
        __module__ : {value: "pythonize"}
    });

    ρσ_modules.pythonize.strings = strings;
})();
async function __main__() {
"use strict";
    var display = canvas;
    var scene = canvas();

    var version, print, arange, __name__, type, ρσ_ls, angle, POINT_AMOUNT, OMEGA, RADIUS, MASS, ball, ballHolder, holderLabel, STEP, nextTrackerAngle, trackers, lastFz;
    version = ρσ_list_decorate([ "3.2", "glowscript" ]);
    Array.prototype['+'] = function(r) {return this.concat(r)}
    Array.prototype['*'] = function(r) {return __array_times_number(this, r)}
    window.__GSlang = "vpython";
    print = GSprint;
    arange = range;
    __name__ = "__main__";
    type = pytype;
    var strings = ρσ_modules.pythonize.strings;

    strings();
    "5";
    angle = 0;
    "6";
    POINT_AMOUNT = window.TRACKER_AMOUNT;
    "8";
    OMEGA = window.OMEGA;
    "9";
    RADIUS = window.RADIUS;
    "10";
    MASS = window.MASS;
    "12";
    ball = ρσ_interpolate_kwargs.call(this, sphere, [ρσ_desugar_kwargs({color: color.red})]);
    "13";
    ballHolder = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({color: color.blue, size: vector(5, .2, .2)})]);
    "14";
    holderLabel = label();
    "16";
    STEP = window.STEP;
    "17";
    nextTrackerAngle = 0;
    "19";
    trackers = ρσ_list_decorate([]);
    "21";
    lastFz = MASS["*"](Math.pow(OMEGA, 2))["*"](RADIUS);
    "23";
    async function spin(obj, center, radius, angle, objTwo, objTwoLabel, mass) {
        var ρσ_ls, X, Z;
        "24";
        X = center.x["+"](cos(angle)["*"](radius));
        "25";
        Z = center.z["+"](sin(angle)["*"](radius));
        "26";
        obj.pos = vector(X, center.y, Z);
        "27";
        obj.size = vector(mass, mass, mass);
        "29";
        if ((objTwo !== null && (typeof objTwo !== "object" || ρσ_not_equals(objTwo, null)))) {
            "30";
            objTwo.pos = vector(X, center.y, Z);
            "31";
            objTwoLabel.pos = vector(X["/"](2), center.y, Z["/"](2));
            "32";
            objTwo.axis = center["-"](1["*"](vector(X, center.y, Z)));
        }
    };
    if (!spin.__argnames__) Object.defineProperties(spin, {
        __argnames__ : {value: ["obj", "center", "radius", "angle", "objTwo", "objTwoLabel", "mass"]},
        __module__ : {value: null}
    });

    "34";
    async function createNewTracker(obj) {
        var ρσ_ls, objTracker;
        "35";
        objTracker = ρσ_interpolate_kwargs.call(this, sphere, [ρσ_desugar_kwargs({pos: obj.pos, size: vector(.5, .5, .5), color: color.green})]);
        "36";
        trackers.append(objTracker);
    };
    if (!createNewTracker.__argnames__) Object.defineProperties(createNewTracker, {
        __argnames__ : {value: ["obj"]},
        __module__ : {value: null}
    });

    "38";
    async function getForce(omega, radius, mass, objTwoLabel, lastForce) {
        var ρσ_ls, Fz, t;
        "39";
        "40";
        Fz = mass["*"](Math.pow(omega, 2))["*"](radius);
        "41";
        objTwoLabel.text = "Fz = "["+"](str(Fz));
            "43";
            if ((Fz !== lastFz && (typeof Fz !== "object" || ρσ_not_equals(Fz, lastFz)))) {
                "44";
                var ρσ_Iter1 = trackers;
                ρσ_Iter1 = ((typeof ρσ_Iter1[Symbol.iterator] === "function") ? (ρσ_Iter1 instanceof Map ? ρσ_Iter1.keys() : ρσ_Iter1) : Object.keys(ρσ_Iter1));
                for (var ρσ_Index1 of ρσ_Iter1) {
                    t = ρσ_Index1;
                    "45";
                    t.visible = false;
                }
            }
            "46";
            lastFz = Fz;
    };
    if (!getForce.__argnames__) Object.defineProperties(getForce, {
        __argnames__ : {value: ["omega", "radius", "mass", "objTwoLabel", "lastForce"]},
        __module__ : {value: null}
    });

    "47";
    while (true) {
            "48";
            (await rate(120));
            "49";
            OMEGA = window.OMEGA;
            "49";
            RADIUS = window.RADIUS;
            "49";
            MASS = window.MASS;
            "49";
            POINT_AMOUNT = window.TRACKER_AMOUNT;
            "49";
            STEP = window.STEP;
            "50";
            angle=angle["+"](OMEGA["*"](.01));
        "51";
        angle %= 2["*"](pi);
        "53";
        (await spin(ball, vector(0, 0, 0), RADIUS, angle, ballHolder, holderLabel, MASS));
        "54";
        (await getForce(OMEGA, RADIUS, MASS, holderLabel, lastFz));
        "56";
        lastFz = MASS["*"](Math.pow(OMEGA, 2))["*"](RADIUS);
        "58";
        if (nextTrackerAngle[">"](6.28)) {
            "59";
            nextTrackerAngle = 0;
            "61";
        }
        if (angle[">="](nextTrackerAngle)) {
            "62";
            (await createNewTracker(ball));
            "63";
            nextTrackerAngle=nextTrackerAngle["+"](STEP);
        }

    }
};
if (!__main__.__module__) Object.defineProperties(__main__, {
    __module__ : {value: null}
});

;$(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()
// END JAVASCRIPT

//--><!]]></script>
</div>